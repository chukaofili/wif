name: Deployment

concurrency:
  group: deployment
  cancel-in-progress: true

on:
  # push:
  #   branches:
  #    - main
  workflow_dispatch:

jobs:
  build:
    name: Deploy Services
    uses: ./.github/workflows/template-deploy-cloudrun.yml
    with:
      service_name: hello-world
      gcp_project_id: GCP_PROJECT_ID
      gcp_project_number: GCP_PROJECT_NUMBER
      gcp_identity_pool: GCP_IDENTITY_POOL
      gcp_identity_pool_provider: GCP_IDENTITY_POOL_PROVIDER
      gcp_service_account_email: GCP_SERVICE_ACCOUNT_EMAIL
      gcp_gar_repository: GCP_GAR_REPOSITORY
